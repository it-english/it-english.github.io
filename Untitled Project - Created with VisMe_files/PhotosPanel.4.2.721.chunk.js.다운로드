/*!For license information please see PhotosPanel.4.2.721.chunk.js.LICENSE.txt*/(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{1373:function(e,t,n){"use strict";n.r(t),n.d(t,"v1",(function(){return l})),n.d(t,"v3",(function(){return _})),n.d(t,"v4",(function(){return E.a})),n.d(t,"v5",(function(){return S})),n.d(t,"NIL",(function(){return k})),n.d(t,"version",(function(){return R})),n.d(t,"validate",(function(){return u.a})),n.d(t,"stringify",(function(){return i.a})),n.d(t,"parse",(function(){return d}));var a,r,o=n(1051),i=n(1039),s=0,c=0;var l=function(e,t,n){var l=t&&n||0,u=t||new Array(16),d=(e=e||{}).node||a,p=void 0!==e.clockseq?e.clockseq:r;if(null==d||null==p){var f=e.random||(e.rng||o.a)();null==d&&(d=a=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=r=16383&(f[6]<<8|f[7]))}var m=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:c+1,h=m-s+(g-c)/1e4;if(h<0&&void 0===e.clockseq&&(p=p+1&16383),(h<0||m>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,c=g,r=p;var y=(1e4*(268435455&(m+=122192928e5))+g)%4294967296;u[l++]=y>>>24&255,u[l++]=y>>>16&255,u[l++]=y>>>8&255,u[l++]=255&y;var v=m/4294967296*1e4&268435455;u[l++]=v>>>8&255,u[l++]=255&v,u[l++]=v>>>24&15|16,u[l++]=v>>>16&255,u[l++]=p>>>8|128,u[l++]=255&p;for(var b=0;b<6;++b)u[l+b]=d[b];return t||Object(i.a)(u)},u=n(1040);var d=function(e){if(!Object(u.a)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var p=function(e,t,n){function a(e,a,r,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof a&&(a=d(a)),16!==a.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(a),s.set(e,a.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,r){o=o||0;for(var c=0;c<16;++c)r[o+c]=s[c];return r}return Object(i.a)(s)}try{a.name=e}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a};function f(e){return 14+(e+64>>>9<<4)+1}function m(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function g(e,t,n,a,r,o){return m((i=m(m(t,e),m(a,o)))<<(s=r)|i>>>32-s,n);var i,s}function h(e,t,n,a,r,o,i){return g(t&n|~t&a,e,t,r,o,i)}function y(e,t,n,a,r,o,i){return g(t&a|n&~a,e,t,r,o,i)}function v(e,t,n,a,r,o,i){return g(t^n^a,e,t,r,o,i)}function b(e,t,n,a,r,o,i){return g(n^(t|~a),e,t,r,o,i)}var _=p("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,a="0123456789abcdef",r=0;r<n;r+=8){var o=e[r>>5]>>>r%32&255,i=parseInt(a.charAt(o>>>4&15)+a.charAt(15&o),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[f(t)-1]=t;for(var n=1732584193,a=-271733879,r=-1732584194,o=271733878,i=0;i<e.length;i+=16){var s=n,c=a,l=r,u=o;n=h(n,a,r,o,e[i],7,-680876936),o=h(o,n,a,r,e[i+1],12,-389564586),r=h(r,o,n,a,e[i+2],17,606105819),a=h(a,r,o,n,e[i+3],22,-1044525330),n=h(n,a,r,o,e[i+4],7,-176418897),o=h(o,n,a,r,e[i+5],12,1200080426),r=h(r,o,n,a,e[i+6],17,-1473231341),a=h(a,r,o,n,e[i+7],22,-45705983),n=h(n,a,r,o,e[i+8],7,1770035416),o=h(o,n,a,r,e[i+9],12,-1958414417),r=h(r,o,n,a,e[i+10],17,-42063),a=h(a,r,o,n,e[i+11],22,-1990404162),n=h(n,a,r,o,e[i+12],7,1804603682),o=h(o,n,a,r,e[i+13],12,-40341101),r=h(r,o,n,a,e[i+14],17,-1502002290),n=y(n,a=h(a,r,o,n,e[i+15],22,1236535329),r,o,e[i+1],5,-165796510),o=y(o,n,a,r,e[i+6],9,-1069501632),r=y(r,o,n,a,e[i+11],14,643717713),a=y(a,r,o,n,e[i],20,-373897302),n=y(n,a,r,o,e[i+5],5,-701558691),o=y(o,n,a,r,e[i+10],9,38016083),r=y(r,o,n,a,e[i+15],14,-660478335),a=y(a,r,o,n,e[i+4],20,-405537848),n=y(n,a,r,o,e[i+9],5,568446438),o=y(o,n,a,r,e[i+14],9,-1019803690),r=y(r,o,n,a,e[i+3],14,-187363961),a=y(a,r,o,n,e[i+8],20,1163531501),n=y(n,a,r,o,e[i+13],5,-1444681467),o=y(o,n,a,r,e[i+2],9,-51403784),r=y(r,o,n,a,e[i+7],14,1735328473),n=v(n,a=y(a,r,o,n,e[i+12],20,-1926607734),r,o,e[i+5],4,-378558),o=v(o,n,a,r,e[i+8],11,-2022574463),r=v(r,o,n,a,e[i+11],16,1839030562),a=v(a,r,o,n,e[i+14],23,-35309556),n=v(n,a,r,o,e[i+1],4,-1530992060),o=v(o,n,a,r,e[i+4],11,1272893353),r=v(r,o,n,a,e[i+7],16,-155497632),a=v(a,r,o,n,e[i+10],23,-1094730640),n=v(n,a,r,o,e[i+13],4,681279174),o=v(o,n,a,r,e[i],11,-358537222),r=v(r,o,n,a,e[i+3],16,-722521979),a=v(a,r,o,n,e[i+6],23,76029189),n=v(n,a,r,o,e[i+9],4,-640364487),o=v(o,n,a,r,e[i+12],11,-421815835),r=v(r,o,n,a,e[i+15],16,530742520),n=b(n,a=v(a,r,o,n,e[i+2],23,-995338651),r,o,e[i],6,-198630844),o=b(o,n,a,r,e[i+7],10,1126891415),r=b(r,o,n,a,e[i+14],15,-1416354905),a=b(a,r,o,n,e[i+5],21,-57434055),n=b(n,a,r,o,e[i+12],6,1700485571),o=b(o,n,a,r,e[i+3],10,-1894986606),r=b(r,o,n,a,e[i+10],15,-1051523),a=b(a,r,o,n,e[i+1],21,-2054922799),n=b(n,a,r,o,e[i+8],6,1873313359),o=b(o,n,a,r,e[i+15],10,-30611744),r=b(r,o,n,a,e[i+6],15,-1560198380),a=b(a,r,o,n,e[i+13],21,1309151649),n=b(n,a,r,o,e[i+4],6,-145523070),o=b(o,n,a,r,e[i+11],10,-1120210379),r=b(r,o,n,a,e[i+2],15,718787259),a=b(a,r,o,n,e[i+9],21,-343485551),n=m(n,s),a=m(a,c),r=m(r,l),o=m(o,u)}return[n,a,r,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(f(t)),a=0;a<t;a+=8)n[a>>5]|=(255&e[a/8])<<a%32;return n}(e),8*e.length))})),E=n(1275);function O(e,t,n,a){switch(e){case 0:return t&n^~t&a;case 1:case 3:return t^n^a;case 2:return t&n^t&a^n&a}}function w(e,t){return e<<t|e>>>32-t}var S=p("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var a=unescape(encodeURIComponent(e));e=[];for(var r=0;r<a.length;++r)e.push(a.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,i=Math.ceil(o/16),s=new Array(i),c=0;c<i;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3];s[c]=l}s[i-1][14]=8*(e.length-1)/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<i;++d){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=s[d][f];for(var m=16;m<80;++m)p[m]=w(p[m-3]^p[m-8]^p[m-14]^p[m-16],1);for(var g=n[0],h=n[1],y=n[2],v=n[3],b=n[4],_=0;_<80;++_){var E=Math.floor(_/20),S=w(g,5)+O(E,h,y,v)+b+t[E]+p[_]>>>0;b=v,v=y,y=w(h,30)>>>0,h=g,g=S}n[0]=n[0]+g>>>0,n[1]=n[1]+h>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),k="00000000-0000-0000-0000-000000000000";var R=function(e){if(!Object(u.a)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},1554:function(e,t,n){"use strict";let a;n.d(t,"a",(function(){return a})),function(e){e.image="image",e.svg="svg",e.sprout_video="sprout_video",e.pdf="pdf",e.audio="audio"}(a||(a={}))},1605:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);const r=(e,t,n=0,r=!1,o=20)=>{const[i,s]=Object(a.useState)(0);return Object(a.useEffect)((()=>{if(e&&t){const a=t.getBoundingClientRect().top;if(a+e.offsetHeight>window.innerHeight){const t=a+e.offsetHeight-window.innerHeight;e.style.top=a-t-o+"px",r&&(e.style.marginLeft="122px")}else e.style.top=`${a+n}px`}}),[e,i]),Object(a.useCallback)((()=>{s((e=>e+1))}),[])}},2318:function(e,t,n){e.exports={tabs:"tabs--3-xHkf9",tab:"tab--3DZdy7c",active:"active--3ttFD_z"}},2666:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(267);t.a=()=>{const{t:e}=Object(o.a)();return r.a.createElement("div",{className:"content-panel-search-no-results"},r.a.createElement("p",{className:"content-panel-search-no-results__title"},e("no_results_were_found_36059")),r.a.createElement("i",{className:"content-panel-search-no-results__icon"}),r.a.createElement("p",{className:"content-panel-search-no-results__text"},r.a.createElement("span",{className:"content-panel-search-no-results__btn"},e("try_another_keyword_36060"))," "))}},2667:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1372);function r(e){return{opacity:0,...a.b[e]}}},2668:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),r=n(48),o=n(0),i=n(607);const s="51%",c="photos-drop-options-overlay__dropzone--is-drag-matched",l=(e=!0)=>{const{appStore:t}=Object(r.b)();return{onDragStart:Object(o.useCallback)((()=>{i.a.setDragActive(!0)}),[]),onDrag:Object(o.useCallback)((n=>{if(!i.a.useAsBackgroundMatcherRef||!i.a.useAsObjectMatcherRef)return void console.error("useAsBackgroundMatcherRef or useAsObjectMatcherRef is not defined");i.a.useAsBackgroundMatcherRef.classList.remove(c);const r=n.hitTest(i.a.useAsBackgroundMatcherRef,"10%"),o=n.hitTest(i.a.useAsObjectMatcherRef,s);if(r&&!o&&t.settings.isPhotoAsBackgroundAllowed)i.a.useAsBackgroundMatcherRef.classList.add(c);else if(e){const e=t.slideStore.selectedSlide.objects.filter((e=>e.type===a.H.IMAGE)),r=e.find((e=>e.objectRef.current&&n.hitTest(e.objectRef.current,s)));r?i.a.setImageReplaceTarget(r):i.a.setImageReplaceTarget(null)}}),[e]),onDragEnd:Object(o.useCallback)((n=>{if(!i.a.useAsBackgroundMatcherRef||!i.a.useAsObjectMatcherRef)return console.error("useAsBackgroundMatcherRef or useAsObjectMatcherRef is not defined"),{isHitObjectMatcher:!1,isHitBackgroundMatcher:!1};i.a.useAsBackgroundMatcherRef.classList.remove(c);const a=n.hitTest(i.a.useAsBackgroundMatcherRef,"10%"),r=n.hitTest(i.a.useAsObjectMatcherRef,s);var o;e&&i.a.replaceDropzoneTarget&&(null===(o=t.slideStore.selectedSlide.getObjectById(i.a.replaceDropzoneTarget))||void 0===o||o.select(),i.a.setDragActive(!1));return i.a.setDragActive(!1),{isHitObjectMatcher:r,isHitBackgroundMatcher:a&&!r}}),[e])}}},2670:function(e,t,n){"use strict";var a=n(36),r=n.n(a),o=n(0),i=n.n(o),s=n(6),c=n.n(s),l=n(502),u=n(2318),d=n.n(u);t.a=e=>i.a.createElement(l.a,r()({},e,{tabsClass:c()(d.a.tabs,e.tabsClass),tabClass:c()(d.a.tab,e.tabClass),tabActiveClass:c()(d.a.active,e.tabActiveClass),isUnderlineShowed:!1}))},2675:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(6),i=n.n(o),s=n(136),c=n(1956),l=n(2),u=n(60);t.a=({className:e,setSearchString:t,searchString:n,placeholder:o,typingTimer:d=0,category:p,section:f,subsection:m})=>{const[g,h]=Object(a.useState)(""),{trackEvent:y}=Object(s.useTracking)();Object(a.useEffect)((()=>{h(n)}),[n]);const{keyDownHandler:v,keyUpHandler:b}=Object(l.getDoneTyping)((()=>{g!==n&&g.length>2&&(p&&y({event:u.a.event.SEARCH,category:p,section:f,subsection:m,identifier:g}),t(g)),0===g.length&&t(g)}),d);return r.a.createElement("div",{className:i()("content-panel-search-wrapper",e)},r.a.createElement(c.a,{value:g,inputHandler:e=>{const t=e.target.value;h(t)},placeholder:o,onKeyDownHandler:v,onKeyUpHandler:b,onClearSearch:()=>{h(""),t("")}}))}},2689:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(6),i=n.n(o),s=n(1605),c=n(1554);t.a=({photoRef:e,style:t,AdditionalElements:n,src:o,alt:l,type:u=c.a.image})=>{const d=Object(a.useRef)(null);return Object(s.a)(d.current,e),r.a.createElement("div",{className:"file-preview",ref:d,style:t},r.a.createElement("img",{src:o,alt:l,className:i()("file-preview__img",{"file-preview__img--svg":u===c.a.svg})}),r.a.createElement(n,null))}},3573:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(267),i=n(4),s=n(79),c=n(5),l=n(275),u=n(8);const d={transition:"opacity 200ms ease-in-out",opacity:0},p={entering:{opacity:0},entered:{opacity:1}},f=Object(i.a)((({panelName:e,children:t,panelTitle:n},i)=>{const{t:f}=Object(o.a)(),[m,g]=Object(a.useState)(!1);Object(a.useEffect)((()=>(g(!0),()=>g(!1))),[]);const h=c.b.settings.isMobile,y=()=>{u.a.slidingPanel.hide(),u.a.contentPanel.setActiveContentPanel(null)};return r.a.createElement(s.Transition,{in:m,timeout:200},(a=>r.a.createElement("div",{ref:i,className:`sub-panel content-panel__${e}`,style:{...d,...p[a]}},h&&r.a.createElement("div",{className:"sub-panel__header"},r.a.createElement("div",{className:"sub-panel__header-title"},f(n)),r.a.createElement(l.a,{iconClass:"sub-panel__header-close-button",contClass:"sub-panel__header-close-button-content",onClick:y})),t)))}),{forwardRef:!0});t.a=f},3588:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(267),i=n(6),s=n.n(i);t.a=({onClick:e,name:t,contClass:n})=>{const{t:a}=Object(o.a)();return r.a.createElement("div",{className:s()("content-panel-back-button",n)},r.a.createElement("div",{className:"content-panel-back-button__wrapper",onClick:e},r.a.createElement("span",{className:"content-panel-back-button__arrow"}),r.a.createElement("span",{className:"content-panel-back-button__title"},a(t))))}},3598:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkIfWebP=t.injectTrackingPixel=t.getSpecificRendition=t.getGifWidth=t.getGifHeight=t.getBestRenditionUrl=t.getBestRendition=t.getAltText=t.getPingbackId=t.getClientRect=t.setRenditionScaleUpMaxPixels=t.bestfit=void 0;var i=n(3599);Object.defineProperty(t,"bestfit",{enumerable:!0,get:function(){return o(i).default}}),Object.defineProperty(t,"setRenditionScaleUpMaxPixels",{enumerable:!0,get:function(){return i.setRenditionScaleUpMaxPixels}}),r(n(3601),t),r(n(3639),t);var s=n(3640);Object.defineProperty(t,"getClientRect",{enumerable:!0,get:function(){return o(s).default}});var c=n(3641);Object.defineProperty(t,"getPingbackId",{enumerable:!0,get:function(){return o(c).default}});var l=n(3642);Object.defineProperty(t,"getAltText",{enumerable:!0,get:function(){return l.getAltText}}),Object.defineProperty(t,"getBestRendition",{enumerable:!0,get:function(){return l.getBestRendition}}),Object.defineProperty(t,"getBestRenditionUrl",{enumerable:!0,get:function(){return l.getBestRenditionUrl}}),Object.defineProperty(t,"getGifHeight",{enumerable:!0,get:function(){return l.getGifHeight}}),Object.defineProperty(t,"getGifWidth",{enumerable:!0,get:function(){return l.getGifWidth}}),Object.defineProperty(t,"getSpecificRendition",{enumerable:!0,get:function(){return l.getSpecificRendition}}),r(n(3600),t),r(n(3643),t);var u=n(3644);Object.defineProperty(t,"injectTrackingPixel",{enumerable:!0,get:function(){return o(u).default}});var d=n(3602);Object.defineProperty(t,"checkIfWebP",{enumerable:!0,get:function(){return d.checkIfWebP}})},3599:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRenditionScaleUpMaxPixels=void 0;var a=n(3600),r=50;t.setRenditionScaleUpMaxPixels=function(e){a.Logger.debug("@giphy/js-util set rendition selection scale up max pixels to "+e),r=e},t.default=function(e,t,n,a){void 0===a&&(a=r);var o=e[0],i=e.filter((function(e){return e.width*e.height>o.width*o.height&&(o=e),t-e.width<=a&&n-e.height<=a}));return 0===i.length?o:function(e,t,n){var a,r=1/0;return n.forEach((function(n){var o=n.width/e*(n.height/t),i=Math.abs(1-o);i<r&&(r=i,a=n)})),a}(t,n,i)}},3600:function(e,t,n){"use strict";var a,r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,r++)a[r]=o[i];return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(a=t.LogLevel||(t.LogLevel={})),t.Logger={ENABLED:"undefined"!=typeof window&&location&&-1!==location.search.indexOf("giphy-debug"),LEVEL:0,PREFIX:"GiphyJS",debug:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.Logger.ENABLED&&t.Logger.LEVEL<=a.DEBUG&&console.debug.apply(console,r([t.Logger.PREFIX],e))},info:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.Logger.ENABLED&&t.Logger.LEVEL<=a.INFO&&console.info.apply(console,r([t.Logger.PREFIX],e))},warn:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.Logger.ENABLED&&t.Logger.LEVEL<=a.WARN&&console.warn.apply(console,r([t.Logger.PREFIX],e))},error:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.Logger.ENABLED&&t.Logger.LEVEL<=a.ERROR&&console.error.apply(console,r([t.Logger.PREFIX],e))}}},3601:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pick=t.without=t.take=t.forEach=t.mapValues=void 0,t.mapValues=function(e,t){if(Array.isArray(e))throw"This map is just for objects, just use array.map for arrays";return Object.keys(e).reduce((function(n,a){return n[a]=t(e[a],a),n}),{})},t.forEach=function(e,t){if(Array.isArray(e))throw"This map is just for objects, just use array.forEach for arrays";return Object.keys(e).forEach((function(n){t(e[n],n)}))},t.take=function(e,t){return void 0===t&&(t=0),e.slice(0,t)},t.without=function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))},t.pick=function(e,t){var n={};return t.forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n}},3602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIfWebP=t.SUPPORTS_WEBP=void 0,t.SUPPORTS_WEBP=null,t.checkIfWebP=new Promise((function(e){"undefined"==typeof Image&&e(!1);var n=new Image;n.onload=function(){t.SUPPORTS_WEBP=!0,e(t.SUPPORTS_WEBP)},n.onerror=function(){t.SUPPORTS_WEBP=!1,e(t.SUPPORTS_WEBP)},n.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}))},3603:function(e,t,n){"use strict";var a,r=n(0),o=n.n(r),i=n(6),s=n.n(i),c=n(67),l=n(79),u=n(1372),d=n(2667);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}function f(e,t){return r.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",ref:t},e),a||(a=r.createElement("path",{fill:"#f8fafb",d:"M6.222 16h3.556v-2.036a6.2 6.2 0 001.18-.492l1.442 1.442 2.514-2.514-1.442-1.442a6.2 6.2 0 00.492-1.18H16V6.222h-2.036a6.192 6.192 0 00-.492-1.18L14.914 3.6 12.4 1.086l-1.442 1.442a6.2 6.2 0 00-1.18-.492V0H6.222v2.036a6.206 6.206 0 00-1.18.492L3.6 1.086 1.086 3.6l1.442 1.442a6.2 6.2 0 00-.492 1.18H0v3.556h2.036a6.192 6.192 0 00.492 1.18L1.086 12.4 3.6 14.914l1.442-1.442a6.191 6.191 0 001.18.492zm-.108-6.115a2.666 2.666 0 113.771 0 2.666 2.666 0 01-3.771 0z"})))}var m=r.forwardRef(f),g=n(1605),h=n(1608),y=n(267),v=n(48);var b=({photo:e,gearRef:t,style:n,isPremium:a=!1,setHoverState:i})=>{const{t:s}=Object(y.a)(),{appStore:c}=Object(v.b)();let l=[{name:"add_to_canvas_36003",id:"addToCanvas"},{name:"set_as_background_36082",id:"setAsBackground"},{name:"save_to_my_files_37248",id:"saveToLibrary"}];!e.isCutout&&c.settings.isPhotoAsBackgroundAllowed||(l=l.filter((e=>"setAsBackground"!==e.id)));const u=Object(r.useRef)(null);Object(g.a)(u.current,t.current,27,!0);return o.a.createElement("div",{className:"photo-settings",ref:u,style:n},l.map((t=>o.a.createElement("div",{className:"photo-settings__item",key:t.id,onClick:()=>(t=>{i(!1),a?Object(h.c)([{...e,type:"image"}],a):("addToCanvas"===t&&e.addToCanvas(),"setAsBackground"===t&&e.useAsBackground(),"saveToLibrary"===t&&e.saveToLibrary())})(t.id)},o.a.createElement("span",{className:"photo-settings__item-name"},s(t.name))))))};t.a=({photo:e,isParentHovered:t=!1,isPremium:n=!1,setHoverState:a=(()=>null)})=>{const i=Object(r.useRef)(null),[p,f]=Object(r.useState)(!1);return o.a.createElement(c.a,{callBack:()=>f(!1)},o.a.createElement("div",{ref:i,className:s()("photo-settings-gear",{"photo-settings-gear--active":p,"photo-settings-gear--hovered":t}),onClick:()=>f(!p)},o.a.createElement(m,{className:"photo-settings-gear__icon"}),o.a.createElement(l.Transition,{in:p,timeout:u.a,mountOnEnter:!0,unmountOnExit:!0},(t=>o.a.createElement(b,{photo:e,gearRef:i,style:Object(d.a)(t),isPremium:n,setHoverState:a})))))}},3609:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a,r,o,i=n(0);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}function c(e,t){return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:18.332,height:18.202,viewBox:"0 0 18.332 18.202",ref:t},e),a||(a=i.createElement("defs",null,i.createElement("style",null,".upload-icon_svg__a{stroke-linecap:round}"))),r||(r=i.createElement("path",{fill:"none",stroke:"#293745",className:"upload-icon_svg__a",d:"M.507 9.828v5.775a1.919 1.919 0 002.109 2.1c2.291-.008 6.657 0 6.657 0"})),o||(o=i.createElement("path",{fill:"none",stroke:"#293745",className:"upload-icon_svg__a",d:"M17.825 9.823v5.779a1.919 1.919 0 01-2.109 2.1c-2.291-.008-7.229 0-7.229 0M9.24 12.303V1.288M5.271 4.873L9.214.726l3.943 4.147"})))}var l=i.forwardRef(c)},3612:function(e,t,n){"use strict";var a=n(1),r=n(162),o=n.n(r),i=n(1860),s=n(661),c=n.n(s),l=n(3638),u=n(662),d=n(2),p=n(114),f=n(5),m=n(300),g=n(1060);const{filesStore:h}=p.b,{slideStore:y}=f.b;var v=a.types.model("GifModel",{username:"",url:"",imageUrlOriginal:"",imageUrlSmall:"",gifPreviewUrl:"",id:"",title:"",width:a.types.number,height:a.types.number,type:"image"}).views((e=>({get libraryData(){return{provider:"giphy",downloadUrl:e.imageUrlOriginal,imageWidth:e.width,name:e.title}}}))).actions((e=>({addToCanvas:Object(a.flow)((function*(){try{const t=y.width/2,n={type:"image",previewUrl:e.imageUrlSmall,...Object(d.getMaximumAvailableSize)(e.width,e.height,t)};yield Object(u.d)({objectData:n,libraryData:e.libraryData})}catch(t){e.handleError(t,"Can't add image to canvas.")}})),useAsBackground:Object(a.flow)((function*(){try{const t=y.selectedSlide||y.first,n=yield e.saveToLibrary();if(n.assetid){const e=f.b.settings.projectId;m.a(n.assetid,e,"image")}t.background.setBackgroundImage({downloadUrl:e.imageUrlOriginal,width:e.width,height:e.height,loaded:!1,type:"background"}),t.background.updateSrc({src:n.filename,ext:n.ext})}catch(t){e.handleError(t,"Can't add image to canvas background.")}})),handleError(e,t){var n;(null==e||null===(n=e.response)||void 0===n?void 0:n.status)!==g.a.insufficientStorage&&f.b.showMessage({text:t,level:"error",error:e})},saveToLibrary(){const{provider:t,downloadUrl:n,imageWidth:a,name:r}=e.libraryData;return h.saveImageToLibrary(t,n,a,r)}}))),b=n(22);const _=new l.GiphyFetch(bootstrap.giphy.key),E=a.types.model("SharedCategoryModel",{name:"",nameEncoded:""}),O=E.named("CategoryModel").props({subCategories:a.types.optional(a.types.array(E),[])}),w=i.a.named("GiphyStore").props({data:a.types.optional(a.types.array(v),[]),categories:a.types.optional(a.types.array(O),[]),selectedCategory:a.types.maybe(O),selectedSubCategory:a.types.maybe(E)}).views((e=>({get isTrending(){return 0===e.searchString.length&&!e.selectedCategory}}))).actions((e=>{const t=e.fetchSearchSuggestions,n=e.resetSearchResult,r=Object(a.flow)((function*(t=0){e.currentPage=t;let n=null;const a={offset:20*e.currentPage,limit:20};let r=e.searchString;e.selectedCategory&&(r=e.selectedCategory.nameEncoded),e.selectedSubCategory&&(r=e.selectedSubCategory.nameEncoded),n=r?yield _.search(r,a):yield _.trending(a);const o=n.data.map((e=>({username:e.username,url:e.url,imageUrlOriginal:e.images.original.url,imageUrlSmall:e.images.fixed_width_still.url,gifPreviewUrl:e.images.preview_gif.url,id:e.id,title:e.title,width:parseInt(e.images.original.width),height:parseInt(e.images.original.height)}))),i=n.pagination;return e.data=e.data.concat(o),e.totalResults=i.total_count,e.totalPages=Math.ceil(i.total_count/20),{totalResults:i.total_count,pages:Math.ceil(i.total_count/20)}})),i=Object(a.flow)((function*(){const{data:t}=yield _.categories();e.categories=t.map((e=>({name:b.a.t(c()(e.name)),nameEncoded:e.name_encoded,subCategories:e.subcategories.map((e=>({...e,name:c()(e.name),nameEncoded:e.name_encoded})))})))}));return{fetchSearchSuggestions:t.bind(e,(()=>null)),resetSearchResult:()=>{n(),e.data=[]},fetchCategories:i,fetchResults:r,selectCategory:t=>{"all"===t.nameEncoded?e.selectedCategory=void 0:(t.name=b.a.t(t.name),e.selectedCategory=o()(t)),e.selectedSubCategory=void 0,e.resetSearchResult(),e.fetchResults()},selectSubCategory:t=>{"all"===t.nameEncoded?e.selectedSubCategory=void 0:e.selectedSubCategory=o()(t),e.resetSearchResult(),e.fetchResults()},setSearchString(t=""){e.resetSearchResult(),e.selectedCategory=void 0,e.selectedSubCategory=void 0,e.searchString=t,e.fetchResults()}}}));t.a=w.create({data:[]})},3636:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a,r=n(0),o=n(8),i=n(5),s=n(2),c=n(102),l=n(607),u=n(222),d=n(3);const p=()=>{const e=Object(r.useRef)({}),t=Object(r.useRef)([]),n=Object(r.useRef)(null);return{onDragStart:()=>{u.e.includes(i.b.selectedObject.type)&&o.a.framesState.setIsFrameDragAndDropActive(!0),u.e.includes(i.b.selectedObject.type)&&c.j&&Object(s.waitNextReRender)().then((()=>{e.current=m()}))},onDrag:a=>{if(i.b.selectedObject.type!==d.H.IMAGE_PLACEHOLDER||i.b.selectedObject.isDragAndDropActive||l.a.isDragActive||i.b.selectedObject.setIsDragAndDropActive(!0),!u.e.includes(i.b.selectedObject.type)||!c.j)return;g(t);const r=h(a,e,n);v(r,t)},onDragEnd:()=>{if(g(t),n.current){const e=n.current.frameImage.getFrame();e.select(),e.setSelectedPhoto(n.current.frameImage),n.current=null}},onAddObject:()=>{o.a.framesState.isFrameDragAndDropActive&&o.a.framesState.setIsFrameDragAndDropActive(!1),i.b.selectedObject.type===d.H.IMAGE_PLACEHOLDER&&i.b.selectedObject.setIsDragAndDropActive(!1)}}},f=null===(a=o.a.canvasRef)||void 0===a?void 0:a.current,m=()=>{if(!f)return{};const e={};return i.b.slideStore.selectedSlide.objects.forEach((t=>{u.e.includes(t.type)&&t.photos.forEach(((t,n)=>{const a=f.querySelector(`[data-frame-image-id="${t.id}"]`);if(!a)return;const r=a.querySelector(".images-frame__drag-and-drop-overlay");r&&(e[t.id]={index:n,frameImage:t,dragAndDropElement:r,photoElement:a})}))})),e},g=e=>{e.current.forEach((({dragAndDropElement:e})=>{e.style.setProperty("display","")})),e.current=[]},h=(e,t,n)=>{let a=null,r=1/0;return Object.values(t.current).forEach((t=>{if(r===-1/0)return;const n=y(e,t.photoElement);if(0===n)return r=-1/0,void(a=t);n<=64&&n<r&&(a=t,r=n)})),n.current=a,a},y=(e,t)=>{const n=t.getBoundingClientRect();let a=0,r=0;return e.pageX<n.left?a=n.left-e.pageX:e.pageX>n.right&&(a=n.right-e.pageX),e.pageY<n.top?r=n.top-e.pageY:e.pageY>n.bottom&&(r=n.bottom-e.pageY),Math.floor(Math.sqrt(a*a+r*r))},v=(e,t)=>{e&&(e.dragAndDropElement.style.setProperty("display","block"),t.current.push(e))}},3637:function(e,t,n){e.exports={root:"root--2TcECLG"}},3638:function(e,t,n){"use strict";var a,r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.gifPaginator=t.GiphyFetch=void 0;var s=n(3598),c=n(3646);Object.defineProperty(t,"GiphyFetch",{enumerable:!0,get:function(){return i(c).default}}),o(n(3650),t),o(n(3651),t);var l=n(3652);Object.defineProperty(t,"gifPaginator",{enumerable:!0,get:function(){return l.gifPaginator}});var u=n(3653).version;(null===(a=s.getGiphySDKRequestHeaders())||void 0===a?void 0:a.get("X-GIPHY-SDK-NAME"))||(s.appendGiphySDKRequestHeader("X-GIPHY-SDK-NAME","FetchAPI"),s.appendGiphySDKRequestHeader("X-GIPHY-SDK-VERSION",u))},3639:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constructMoatData=void 0,t.constructMoatData=function(e){var t,n=e.tdata,a=((null===(t=null==n?void 0:n.web)||void 0===t?void 0:t.filter((function(e){return"Moat"===e.vendor})))||[])[0];if(null==a?void 0:a.verificationParameters){var r=a.verificationParameters,o=r.moatClientLevel1,i=void 0===o?"_ADVERTISER_":o,s=r.moatClientLevel2,c=void 0===s?"_CAMPAIGN_":s,l=r.moatClientLevel3,u=void 0===l?"_LINE_ITEM_":l,d=r.moatClientLevel4,p=void 0===d?"_CREATIVE_":d,f=r.moatClientSlicer1,m=void 0===f?"_SITE_":f,g=r.moatClientSlicer2,h=void 0===g?"_PLACEMENT_":g,y=r.zMoatPosition;return{moatClientLevel1:i,moatClientLevel2:c,moatClientLevel3:u,moatClientLevel4:p,moatClientSlicer1:m,moatClientSlicer2:h,zMoatPosition:void 0===y?"_POSITION_":y}}}},3640:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=0,n=0,a=e.offsetWidth,r=e.offsetHeight;do{t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent}while(e);return{left:t,top:n,width:a,height:r,right:t+a,bottom:n+r}}},3641:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1373),r="";t.default=function(){if(!r){try{r=sessionStorage.getItem("giphyPingbackId")}catch(e){}if(!r){var e=(new Date).getTime().toString(16);r=(""+e+a.v4().replace(/-/g,"")).substring(0,16);try{sessionStorage.setItem("giphyPingbackId",r)}catch(e){}}}return r}},3642:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getAltText=t.getGifWidth=t.getGifHeight=t.getBestRenditionUrl=t.getBestRendition=t.getSpecificRendition=void 0;var o=n(3601),i=r(n(3599)),s=n(3602);t.getSpecificRendition=function(e,t,n,a){var r=e.images,o=e.is_sticker;if(void 0===n&&(n=!1),void 0===a&&(a=!1),!r||!t)return"";var i=r[t+((n=n&&!a)?"_still":"")];if(i){if(o||n)return i.url;var c=s.SUPPORTS_WEBP&&i.webp;return a?i.mp4:c||i.url}return""};t.getBestRendition=function(e,t,n,r){var s=o.pick(e,["original","fixed_width","fixed_height","fixed_width_small","fixed_height_small"]),c=Object.entries(s).map((function(e){var t=e[0],n=e[1];return a({renditionName:t},n)}));return i.default(c,t,n,r)},t.getBestRenditionUrl=function(e,n,a,r){var o=e.images,i=e.video,c=e.type;if(void 0===r&&(r={isStill:!1,useVideo:!1}),!n||!a||!o)return"";var l=r.useVideo,u=r.isStill,d=r.scaleUpMaxPixels,p=function(e,t,n){return"video"===e&&n&&n.previews&&!Object.keys(t).length?n.previews:t}(c,o,i),f=p[t.getBestRendition(p,n,a,d).renditionName+(u&&!l?"_still":"")];return(l?f.mp4:s.SUPPORTS_WEBP&&f.webp?f.webp:f.url)||""},t.getGifHeight=function(e,t){var n=e.images.fixed_width;if(n){var a=n.width/n.height;return Math.round(t/a)}return 0},t.getGifWidth=function(e,t){var n=e.images.fixed_width;if(n){var a=n.width/n.height;return Math.round(t*a)}return 0},t.getAltText=function(e){var t=e.user,n=e.tags,a=void 0===n?[]:n,r=e.is_sticker,i=void 0!==r&&r,s=e.title,c=void 0===s?"":s;if(c)return c;var l=t&&t.username||"";return(l?l+" ":"")+o.take(o.without(a,["transparent"]),l?4:5).join(" ")+" "+(i?"Sticker":"GIF")}},3643:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.appendGiphySDKRequestParam=t.appendGiphySDKRequestHeader=t.getGiphySDKRequestHeaders=void 0;var n=("undefined"!=typeof window?window:e)||{};n._GIPHY_SDK_HEADERS_=n._GIPHY_SDK_HEADERS_||(n.Headers?new n.Headers({"X-GIPHY-SDK-PLATFORM":"web"}):void 0),t.getGiphySDKRequestHeaders=function(){return n._GIPHY_SDK_HEADERS_},t.appendGiphySDKRequestHeader=function(e,n){var a;return null===(a=t.getGiphySDKRequestHeaders())||void 0===a?void 0:a.set(e,n)},t.appendGiphySDKRequestParam=function(e,n){var a;return null===(a=t.getGiphySDKRequestHeaders())||void 0===a?void 0:a.set(e,n)}}).call(this,n(95))},3644:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3645);t.default=function(e){void 0===e&&(e=[]),e.forEach((function(e){var t,n=document.createElement("html");e=e.replace("%%CACHEBUSTER%%",Date.now().toString()),n.innerHTML=a.sanitize(e);var r=n.querySelector("img");r&&(null===(t=null===document||void 0===document?void 0:document.querySelector("head"))||void 0===t||t.appendChild(r))}))}},3645:function(e,t,n){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function a(e,r,o){return a=n()?Reflect.construct:function(e,n,a){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return a&&t(o,a.prototype),o},a.apply(null,arguments)}function r(e){return o(e)||i(e)||s(e)||l()}function o(e){if(Array.isArray(e))return c(e)}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=Object.hasOwnProperty,d=Object.setPrototypeOf,p=Object.isFrozen,f=Object.getPrototypeOf,m=Object.getOwnPropertyDescriptor,g=Object.freeze,h=Object.seal,y=Object.create,v="undefined"!=typeof Reflect&&Reflect,b=v.apply,_=v.construct;b||(b=function(e,t,n){return e.apply(t,n)}),g||(g=function(e){return e}),h||(h=function(e){return e}),_||(_=function(e,t){return a(e,r(t))});var E=N(Array.prototype.forEach),O=N(Array.prototype.pop),w=N(Array.prototype.push),S=N(String.prototype.toLowerCase),k=N(String.prototype.match),R=N(String.prototype.replace),A=N(String.prototype.indexOf),j=N(String.prototype.trim),T=N(RegExp.prototype.test),C=x(TypeError);function N(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return b(e,t,a)}}function x(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return _(e,n)}}function P(e,t,n){n=n||S,d&&d(e,null);for(var a=t.length;a--;){var r=t[a];if("string"==typeof r){var o=n(r);o!==r&&(p(t)||(t[a]=o),r=o)}e[r]=!0}return e}function D(e){var t,n=y(null);for(t in e)b(u,e,[t])&&(n[t]=e[t]);return n}function M(e,t){for(;null!==e;){var n=m(e,t);if(n){if(n.get)return N(n.get);if("function"==typeof n.value)return N(n.value)}e=f(e)}function a(e){return console.warn("fallback value for",e),null}return a}var L=g(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I=g(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),H=g(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B=g(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),U=g(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),F=g(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),G=g(["#text"]),z=g(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),W=g(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$=g(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),q=g(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),K=h(/\{\{[\w\W]*|[\w\W]*\}\}/gm),V=h(/<%[\w\W]*|[\w\W]*%>/gm),X=h(/^data-[\-\w.\u00B7-\uFFFF]/),Y=h(/^aria-[\-\w]+$/),Q=h(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),J=h(/^(?:\w+script|data):/i),Z=h(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ee=h(/^html$/i),te=function(){return"undefined"==typeof window?null:window},ne=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var a=null,r="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(r)&&(a=n.currentScript.getAttribute(r));var o="dompurify"+(a?"#"+a:"");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function ae(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te(),n=function(e){return ae(e)};if(n.version="2.4.0",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var a=t.document,o=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,c=t.Node,l=t.Element,u=t.NodeFilter,d=t.NamedNodeMap,p=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,f=t.HTMLFormElement,m=t.DOMParser,h=t.trustedTypes,y=l.prototype,v=M(y,"cloneNode"),b=M(y,"nextSibling"),_=M(y,"childNodes"),N=M(y,"parentNode");if("function"==typeof s){var x=o.createElement("template");x.content&&x.content.ownerDocument&&(o=x.content.ownerDocument)}var re=ne(h,a),oe=re?re.createHTML(""):"",ie=o,se=ie.implementation,ce=ie.createNodeIterator,le=ie.createDocumentFragment,ue=ie.getElementsByTagName,de=a.importNode,pe={};try{pe=D(o).documentMode?o.documentMode:{}}catch(e){}var fe={};n.isSupported="function"==typeof N&&se&&void 0!==se.createHTMLDocument&&9!==pe;var me,ge,he=K,ye=V,ve=X,be=Y,_e=J,Ee=Z,Oe=Q,we=null,Se=P({},[].concat(r(L),r(I),r(H),r(U),r(G))),ke=null,Re=P({},[].concat(r(z),r(W),r($),r(q))),Ae=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),je=null,Te=null,Ce=!0,Ne=!0,xe=!1,Pe=!1,De=!1,Me=!1,Le=!1,Ie=!1,He=!1,Be=!1,Ue=!0,Fe=!1,Ge="user-content-",ze=!0,We=!1,$e={},qe=null,Ke=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ve=null,Xe=P({},["audio","video","img","source","image","track"]),Ye=null,Qe=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",Ze="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml",tt=et,nt=!1,at=["application/xhtml+xml","text/html"],rt="text/html",ot=null,it=o.createElement("form"),st=function(e){return e instanceof RegExp||e instanceof Function},ct=function(t){ot&&ot===t||(t&&"object"===e(t)||(t={}),t=D(t),me=me=-1===at.indexOf(t.PARSER_MEDIA_TYPE)?rt:t.PARSER_MEDIA_TYPE,ge="application/xhtml+xml"===me?function(e){return e}:S,we="ALLOWED_TAGS"in t?P({},t.ALLOWED_TAGS,ge):Se,ke="ALLOWED_ATTR"in t?P({},t.ALLOWED_ATTR,ge):Re,Ye="ADD_URI_SAFE_ATTR"in t?P(D(Qe),t.ADD_URI_SAFE_ATTR,ge):Qe,Ve="ADD_DATA_URI_TAGS"in t?P(D(Xe),t.ADD_DATA_URI_TAGS,ge):Xe,qe="FORBID_CONTENTS"in t?P({},t.FORBID_CONTENTS,ge):Ke,je="FORBID_TAGS"in t?P({},t.FORBID_TAGS,ge):{},Te="FORBID_ATTR"in t?P({},t.FORBID_ATTR,ge):{},$e="USE_PROFILES"in t&&t.USE_PROFILES,Ce=!1!==t.ALLOW_ARIA_ATTR,Ne=!1!==t.ALLOW_DATA_ATTR,xe=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Pe=t.SAFE_FOR_TEMPLATES||!1,De=t.WHOLE_DOCUMENT||!1,Ie=t.RETURN_DOM||!1,He=t.RETURN_DOM_FRAGMENT||!1,Be=t.RETURN_TRUSTED_TYPE||!1,Le=t.FORCE_BODY||!1,Ue=!1!==t.SANITIZE_DOM,Fe=t.SANITIZE_NAMED_PROPS||!1,ze=!1!==t.KEEP_CONTENT,We=t.IN_PLACE||!1,Oe=t.ALLOWED_URI_REGEXP||Oe,tt=t.NAMESPACE||et,t.CUSTOM_ELEMENT_HANDLING&&st(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&st(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ae.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pe&&(Ne=!1),He&&(Ie=!0),$e&&(we=P({},r(G)),ke=[],!0===$e.html&&(P(we,L),P(ke,z)),!0===$e.svg&&(P(we,I),P(ke,W),P(ke,q)),!0===$e.svgFilters&&(P(we,H),P(ke,W),P(ke,q)),!0===$e.mathMl&&(P(we,U),P(ke,$),P(ke,q))),t.ADD_TAGS&&(we===Se&&(we=D(we)),P(we,t.ADD_TAGS,ge)),t.ADD_ATTR&&(ke===Re&&(ke=D(ke)),P(ke,t.ADD_ATTR,ge)),t.ADD_URI_SAFE_ATTR&&P(Ye,t.ADD_URI_SAFE_ATTR,ge),t.FORBID_CONTENTS&&(qe===Ke&&(qe=D(qe)),P(qe,t.FORBID_CONTENTS,ge)),ze&&(we["#text"]=!0),De&&P(we,["html","head","body"]),we.table&&(P(we,["tbody"]),delete je.tbody),g&&g(t),ot=t)},lt=P({},["mi","mo","mn","ms","mtext"]),ut=P({},["foreignobject","desc","title","annotation-xml"]),dt=P({},["title","style","font","a","script"]),pt=P({},I);P(pt,H),P(pt,B);var ft=P({},U);P(ft,F);var mt=function(e){var t=N(e);t&&t.tagName||(t={namespaceURI:et,tagName:"template"});var n=S(e.tagName),a=S(t.tagName);return e.namespaceURI===Ze?t.namespaceURI===et?"svg"===n:t.namespaceURI===Je?"svg"===n&&("annotation-xml"===a||lt[a]):Boolean(pt[n]):e.namespaceURI===Je?t.namespaceURI===et?"math"===n:t.namespaceURI===Ze?"math"===n&&ut[a]:Boolean(ft[n]):e.namespaceURI===et&&!(t.namespaceURI===Ze&&!ut[a])&&!(t.namespaceURI===Je&&!lt[a])&&!ft[n]&&(dt[n]||!pt[n])},gt=function(e){w(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},ht=function(e,t){try{w(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){w(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ke[e])if(Ie||He)try{gt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},yt=function(e){var t,n;if(Le)e="<remove></remove>"+e;else{var a=k(e,/^[\r\n\t ]+/);n=a&&a[0]}"application/xhtml+xml"===me&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var r=re?re.createHTML(e):e;if(tt===et)try{t=(new m).parseFromString(r,me)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(tt,"template",null);try{t.documentElement.innerHTML=nt?"":r}catch(e){}}var i=t.body||t.documentElement;return e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),tt===et?ue.call(t,De?"html":"body")[0]:De?t.documentElement:i},vt=function(e){return ce.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},bt=function(e){return e instanceof f&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},_t=function(t){return"object"===e(c)?t instanceof c:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Et=function(e,t,a){fe[e]&&E(fe[e],(function(e){e.call(n,t,a,ot)}))},Ot=function(e){var t;if(Et("beforeSanitizeElements",e,null),bt(e))return gt(e),!0;if(T(/[\u0080-\uFFFF]/,e.nodeName))return gt(e),!0;var a=ge(e.nodeName);if(Et("uponSanitizeElement",e,{tagName:a,allowedTags:we}),e.hasChildNodes()&&!_t(e.firstElementChild)&&(!_t(e.content)||!_t(e.content.firstElementChild))&&T(/<[/\w]/g,e.innerHTML)&&T(/<[/\w]/g,e.textContent))return gt(e),!0;if("select"===a&&T(/<template/i,e.innerHTML))return gt(e),!0;if(!we[a]||je[a]){if(!je[a]&&St(a)){if(Ae.tagNameCheck instanceof RegExp&&T(Ae.tagNameCheck,a))return!1;if(Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(a))return!1}if(ze&&!qe[a]){var r=N(e)||e.parentNode,o=_(e)||e.childNodes;if(o&&r)for(var i=o.length-1;i>=0;--i)r.insertBefore(v(o[i],!0),b(e))}return gt(e),!0}return e instanceof l&&!mt(e)?(gt(e),!0):"noscript"!==a&&"noembed"!==a||!T(/<\/no(script|embed)/i,e.innerHTML)?(Pe&&3===e.nodeType&&(t=e.textContent,t=R(t,he," "),t=R(t,ye," "),e.textContent!==t&&(w(n.removed,{element:e.cloneNode()}),e.textContent=t)),Et("afterSanitizeElements",e,null),!1):(gt(e),!0)},wt=function(e,t,n){if(Ue&&("id"===t||"name"===t)&&(n in o||n in it))return!1;if(Ne&&!Te[t]&&T(ve,t));else if(Ce&&T(be,t));else if(!ke[t]||Te[t]){if(!(St(e)&&(Ae.tagNameCheck instanceof RegExp&&T(Ae.tagNameCheck,e)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(e))&&(Ae.attributeNameCheck instanceof RegExp&&T(Ae.attributeNameCheck,t)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(t))||"is"===t&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&T(Ae.tagNameCheck,n)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(n))))return!1}else if(Ye[t]);else if(T(Oe,R(n,Ee,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==A(n,"data:")||!Ve[e])if(xe&&!T(_e,R(n,Ee,"")));else if(n)return!1;return!0},St=function(e){return e.indexOf("-")>0},kt=function(t){var a,r,o,i;Et("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(i=s.length;i--;){var l=a=s[i],u=l.name,d=l.namespaceURI;if(r="value"===u?a.value:j(a.value),o=ge(u),c.attrName=o,c.attrValue=r,c.keepAttr=!0,c.forceKeepAttr=void 0,Et("uponSanitizeAttribute",t,c),r=c.attrValue,!c.forceKeepAttr&&(ht(u,t),c.keepAttr))if(T(/\/>/i,r))ht(u,t);else{Pe&&(r=R(r,he," "),r=R(r,ye," "));var p=ge(t.nodeName);if(wt(p,o,r)){if(!Fe||"id"!==o&&"name"!==o||(ht(u,t),r=Ge+r),re&&"object"===e(h)&&"function"==typeof h.getAttributeType)if(d);else switch(h.getAttributeType(p,o)){case"TrustedHTML":r=re.createHTML(r);break;case"TrustedScriptURL":r=re.createScriptURL(r)}try{d?t.setAttributeNS(d,u,r):t.setAttribute(u,r),O(n.removed)}catch(e){}}}}Et("afterSanitizeAttributes",t,null)}},Rt=function e(t){var n,a=vt(t);for(Et("beforeSanitizeShadowDOM",t,null);n=a.nextNode();)Et("uponSanitizeShadowNode",n,null),Ot(n)||(n.content instanceof i&&e(n.content),kt(n));Et("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(r){var o,s,l,u,d,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((nt=!r)&&(r="\x3c!--\x3e"),"string"!=typeof r&&!_t(r)){if("function"!=typeof r.toString)throw C("toString is not a function");if("string"!=typeof(r=r.toString()))throw C("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof r)return t.toStaticHTML(r);if(_t(r))return t.toStaticHTML(r.outerHTML)}return r}if(Me||ct(p),n.removed=[],"string"==typeof r&&(We=!1),We){if(r.nodeName){var f=ge(r.nodeName);if(!we[f]||je[f])throw C("root node is forbidden and cannot be sanitized in-place")}}else if(r instanceof c)1===(s=(o=yt("\x3c!----\x3e")).ownerDocument.importNode(r,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?o=s:o.appendChild(s);else{if(!Ie&&!Pe&&!De&&-1===r.indexOf("<"))return re&&Be?re.createHTML(r):r;if(!(o=yt(r)))return Ie?null:Be?oe:""}o&&Le&&gt(o.firstChild);for(var m=vt(We?r:o);l=m.nextNode();)3===l.nodeType&&l===u||Ot(l)||(l.content instanceof i&&Rt(l.content),kt(l),u=l);if(u=null,We)return r;if(Ie){if(He)for(d=le.call(o.ownerDocument);o.firstChild;)d.appendChild(o.firstChild);else d=o;return ke.shadowroot&&(d=de.call(a,d,!0)),d}var g=De?o.outerHTML:o.innerHTML;return De&&we["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&T(ee,o.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+g),Pe&&(g=R(g,he," "),g=R(g,ye," ")),re&&Be?re.createHTML(g):g},n.setConfig=function(e){ct(e),Me=!0},n.clearConfig=function(){ot=null,Me=!1},n.isValidAttribute=function(e,t,n){ot||ct({});var a=ge(e),r=ge(t);return wt(a,r,n)},n.addHook=function(e,t){"function"==typeof t&&(fe[e]=fe[e]||[],w(fe[e],t))},n.removeHook=function(e){if(fe[e])return O(fe[e])},n.removeHooks=function(e){fe[e]&&(fe[e]=[])},n.removeAllHooks=function(){fe={}},n}return ae()}()},3646:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GiphyFetch=void 0;var o=n(3598),i=r(n(2708)),s=n(3647),c=r(n(3648)),l=function(e){return e&&e.type?e.type:"gifs"},u=function(){function e(e){var t=this;this.getQS=function(e){return void 0===e&&(e={}),i.default.stringify(a(a({},e),{api_key:t.apiKey,pingback_id:o.getPingbackId()}))},this.apiKey=e}return e.prototype.categories=function(e){return c.default("gifs/categories?"+this.getQS(e))},e.prototype.gif=function(e){return c.default("gifs/"+e+"?"+this.getQS(),s.normalizeGif)},e.prototype.gifs=function(e,t){return Array.isArray(e)?c.default("gifs?"+this.getQS({ids:e.join(",")}),s.normalizeGifs):c.default("gifs/categories/"+e+"/"+t+"?"+this.getQS(),s.normalizeGifs)},e.prototype.emoji=function(e){return c.default("emoji?"+this.getQS(e),s.normalizeGifs,"EMOJI")},e.prototype.search=function(e,t){void 0===t&&(t={});var n=t.channel?"@"+t.channel+" "+e:e,r=this.getQS(a(a({},t),{q:n})),o="text"===t.type?"TEXT_SEARCH":t.explore?"GIF_EXPLORE":"GIF_SEARCH";return c.default(l(t)+"/search?"+r,s.normalizeGifs,o)},e.prototype.subcategories=function(e,t){return c.default("gifs/categories/"+e+"?"+this.getQS(t))},e.prototype.trending=function(e){void 0===e&&(e={});var t="text"===e.type?"TEXT_TRENDING":"GIF_TRENDING";return c.default(l(e)+"/trending?"+this.getQS(e),s.normalizeGifs,t)},e.prototype.random=function(e){return c.default(l(e)+"/random?"+this.getQS(e),s.normalizeGif,void 0,!0)},e.prototype.related=function(e,t){return c.default("gifs/related?"+this.getQS(a({gif_id:e},t)),s.normalizeGifs,"GIF_RELATED")},e}();t.GiphyFetch=u,t.default=u},3647:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeGifs=t.normalizeGif=t.USER_BOOL_PROPS=t.BOOL_PROPS=void 0,t.BOOL_PROPS=["is_anonymous","is_community","is_featured","is_hidden","is_indexable","is_preserve_size","is_realtime","is_removed","is_sticker"],t.USER_BOOL_PROPS=["suppress_chrome","is_public","is_verified"];var r=function(e){return function(t){return e[t]=!!e[t]}},o=function(e){return"string"==typeof e?e:e.text},i=function(e,n,i){void 0===n&&(n=""),void 0===i&&(i="");var s=a({},e);s.id=String(s.id),s.tags=(s.tags||[]).map(o),s.bottle_data||(s.bottle_data={}),s.response_id=n,s.pingback_event_type=i,t.BOOL_PROPS.forEach(r(s));var c=s.user;if(c){var l=a({},c);t.USER_BOOL_PROPS.forEach(r(l)),s.user=l}return s};t.normalizeGif=function(e,t){var n=e.meta.response_id;return e.data=i(e.data,n,t),e},t.normalizeGifs=function(e,t){var n=e.meta.response_id;return e.data=e.data.map((function(e){return i(e,n,t)})),e}},3648:function(e,t,n){"use strict";(function(e){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ERROR=t.ERROR_PREFIX=void 0;var i=o(n(3649));t.ERROR_PREFIX="@giphy/js-fetch-api: ",t.DEFAULT_ERROR="Error fetching";var s=(("undefined"!=typeof window?window:e)||{}).GIPHY_API_URL||"https://api.giphy.com/v1/",c=function(e){return e},l={};t.default=function(e,n,o,u){var d,p=this;if(void 0===n&&(n=c),void 0===u&&(u=!1),d=Date.now(),Object.keys(l).forEach((function(e){d-l[e].ts>=6e4&&delete l[e]})),!l[e]||u){l[e]={request:a(p,void 0,void 0,(function(){var a,c,u,d,p;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,9,,10]),[4,fetch(""+s+e,{method:"get"})];case 1:return(c=r.sent()).ok?[4,c.json()]:[3,3];case 2:return d=r.sent(),[2,n(d,o)];case 3:u=t.DEFAULT_ERROR,r.label=4;case 4:return r.trys.push([4,6,,7]),[4,c.json()];case 5:return(d=r.sent()).message&&(u=d.message),[3,7];case 6:return r.sent(),[3,7];case 7:a=new i.default(""+t.ERROR_PREFIX+u,c.status,c.statusText),r.label=8;case 8:return[3,10];case 9:return p=r.sent(),a=new i.default(p.message),delete l[e],[3,10];case 10:throw a}}))})),ts:Date.now()}}return l[e].request}}).call(this,n(95))},3649:function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,a){void 0===n&&(n=0),void 0===a&&(a="");var r=e.call(this,t)||this;return r.status=n,r.statusText=a,r}return r(t,e),t}(Error);t.default=o},3650:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3651:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3652:function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,r++)a[r]=o[i];return a};Object.defineProperty(t,"__esModule",{value:!0}),t.gifPaginator=void 0,t.gifPaginator=function(e,t){void 0===t&&(t=[]);var n=o(t),i=t.map((function(e){return e.id})),s=t.length,c=!1;return function(){return a(void 0,void 0,void 0,(function(){var t,a,l;return r(this,(function(r){switch(r.label){case 0:return c?[2,n]:[4,e(s)];case 1:return t=r.sent(),a=t.pagination,l=t.data,s=a.count+a.offset,c=s===a.total_count,l.forEach((function(e){var t=e.id;i.includes(t)||(n.push(e),i.push(t))})),[2,o(n)]}}))}))}}},3653:function(e){e.exports=JSON.parse('{"scripts":{"clean":"rm -rf ./dist","dev":"parcel public/test.html","docs":"typedoc","prepublish":"npm run clean && tsc","build":"tsc","test":"jest --config ./jestconfig.js","test:watch":"jest --config ./jestconfig.js --watchAll"},"name":"@giphy/js-fetch-api","version":"1.8.1","main":"dist/index.js","description":"Javascript API to fetch gifs and stickers from the GIPHY API.","types":"dist/index.d.ts","files":["dist/**/*","src/**/*"],"license":"MIT","publishConfig":{"access":"public"},"dependencies":{"@giphy/js-types":"^2.1.0","@giphy/js-util":"^1.10.0","qs":"^6.9.4"},"devDependencies":{"@types/cookie":"^0.4.0","@types/qs":"^6.9.4","jest-fetch-mock":"^3.0.3","parcel-bundler":"^1.12.4","typedoc":"^0.18.0","typedoc-thunder-theme":"^0.0.2","typescript":"^4.0.2"},"gitHead":"688351c9d7bb9a5ae8799468c6611125d8da01ac"}')},3658:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(267),i=n(42),s=n(4),c=n(6),l=n.n(c),u=n(370),d=n(501),p=n(5),f=n(607),m=n(8),g=n(24),h=n(913),y=n(3603),v=n(226),b=n(2668);var _=({gif:e})=>{const{t:t}=Object(o.a)(),n=Object(a.useRef)(null),i=Object(a.useRef)(null),[s,c]=Object(h.a)(i),l=Object(b.a)();return Object(d.a)((({createDraggable:t})=>{let a,r;const o=n.current;t(o,{onClick(){p.b.checkUserAuth()&&("background"===p.b.selectedObject.type?e.useAsBackground():e.addToCanvas())},onDragStart(){p.b.checkUserAuth()&&(f.a.setDragActive(!0),m.a.setCommentsModalOpen(!1),l.onDragStart(),a=o.cloneNode(!0),i.current.appendChild(a),o.style.width=`${o.offsetWidth}px`,o.style.height=`${o.offsetHeight}px`,a.style.zIndex=1,o.style.zIndex=2,r=i.current.getBoundingClientRect(),o.style.position="fixed",o.style.top=`${r.top}px`,o.style.left=`${r.left}px`)},onDrag(){l.onDrag(this)},onDragEnd(){const{isHitObjectMatcher:t,isHitBackgroundMatcher:n}=l.onDragEnd(this);t?e.addToCanvas():n&&e.useAsBackground(),a.remove(),o.style.position="initial",g.gsap.to(o,{duration:0,x:0,y:0,top:"0px",left:"0px"})}},p.b)}),[]),r.a.createElement("div",{className:"apps-gif",key:e.id,ref:i},r.a.createElement(v.a,{className:"apps-gif__img",src:s?e.gifPreviewUrl:e.imageUrlSmall,alt:e.title,ref:n,defaultSrc:e.imageUrlSmall}),r.a.createElement(y.a,{photo:e,isPremium:!1,setHoverState:c,isParentHovered:s}),r.a.createElement("div",{className:"apps-gif__user"},r.a.createElement("a",{className:"apps-gif__user-name",href:e.url,target:"_blank",rel:"noreferrer"},t("by_36144")," ",e.username)))},E=n(3637),O=n.n(E);const w=({gifs:e})=>r.a.createElement("div",{className:O.a.root},e.map(((e,t)=>r.a.createElement(_,{key:`${e.id}-${t}`,gif:e}))));var S=n(3612),k=n(132),R=n(1011),A=n(2675),j=n(94),T=n(2314),C=n.p+"images/powered-by-giphy.492a41dd2dd552d3f216f41b23924a7f.png";const N=e=>r.a.createElement(i.r.MenuList,e,r.a.createElement(k.a,null,e.children));t.a=Object(s.a)((({searchable:e=!0,isBackable:t=!0})=>{const{t:n}=Object(o.a)(),{data:i,totalResults:s,fetchResults:c,fetchCategories:d,categories:p,selectCategory:f,selectedCategory:m,selectSubCategory:g,selectedSubCategory:h,currentPage:y,totalPages:v,setSearchString:b,searchString:_,isFetching:E,isTrending:O}=S.a,k=Object(a.useRef)(null),x={nameEncoded:"all",name:n("all_37049")};Object(a.useEffect)((()=>{i.length>0||(d(),c())}),[]);const P=e=>e.nameEncoded,D=e=>e.name;return r.a.createElement("div",{className:"apps-giphy"},r.a.createElement("div",{className:"apps-giphy__upper-section"},t&&r.a.createElement(T.a,null),e&&r.a.createElement(A.a,{setSearchString:b,searchString:_,typingTimer:1500,className:"apps-giphy__search",placeholder:n("search_gif_36808")}),p.length?r.a.createElement(u.a,{className:"apps-giphy__select",onChange:f,customComponents:{IndicatorSeparator:()=>null,MenuList:N},placeholder:n("categories_36131"),value:m||x,items:[x,...p],getOptionLabel:D,getOptionValue:P}):null,m&&r.a.createElement(u.a,{className:"apps-giphy__select",onChange:g,customComponents:{IndicatorSeparator:()=>null,MenuList:N},placeholder:n("all_37049"),value:h||x,items:[x,...null==m?void 0:m.subCategories],getOptionLabel:D,getOptionValue:P}),r.a.createElement("div",{className:"apps-giphy__total-results"},O?n("trending_now_37047"):`${n("results_37048")} (${s})`)),r.a.createElement(R.a,{loadMore:c,contClass:l()("apps-giphy__results-wrapper",{"apps-giphy__results-wrapper--second-select-shown":m}),pagesCount:v,page:y,beautyScrollRef:k},r.a.createElement(w,{gifs:i})),E&&r.a.createElement(j.a,{theme:"dark"}),r.a.createElement("a",{className:"apps-giphy__powered-by",href:"https://giphy.com/",target:"_blank",rel:"noreferrer"},r.a.createElement("img",{src:C,alt:"Powered by Giphy"})))}))},3896:function(e,t,n){e.exports={root:"root--2XenG_C",device:"device--1nx57Tv"}},3897:function(e,t,n){e.exports={root:"root--2voEbUy",list:"list--wd67I9q"}},4025:function(e,t,n){"use strict";n.r(t);var a,r,o,i,s,c=n(0),l=n.n(c),u=n(5),d=n(3573),p=n(4),f=n(267),m=n(60),g=n(1529),h=n(136),y=n(2670),v=n(102),b=n(1737),_=n(662),E=n(8),O=n(3609);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w.apply(this,arguments)}function S(e,t){return c.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:21.209,height:17.586,viewBox:"0 0 21.209 17.586",ref:t},e),a||(a=c.createElement("defs",null,c.createElement("style",null,".my-images-icon_svg__a{fill:none;stroke:#293745}"))),r||(r=c.createElement("path",{className:"my-images-icon_svg__a",d:"M19.139 4.047l.308.077a1.664 1.664 0 011.207 2.02l-2.437 9.679a1.664 1.664 0 01-2.02 1.207l-9.3-2.341"})),o||(o=c.createElement("rect",{className:"my-images-icon_svg__a",width:17.494,height:13.309,rx:2.5,transform:"translate(.5 .5)"})),i||(i=c.createElement("path",{d:"M1.937 10.272l3.705-3.706 2.611 2.611 5.4-5.4 2.792 2.792",strokeLinecap:"round",stroke:"#293745",fill:"none"})),s||(s=c.createElement("g",{className:"my-images-icon_svg__a",transform:"translate(7.5 2.227)"},c.createElement("circle",{cx:1.5,cy:1.5,r:1.5}),c.createElement("circle",{cx:1.5,cy:1.5,r:1,fill:"none"}))))}var k=c.forwardRef(S);var R=()=>{const{t:e}=Object(f.a)(),{trackEvent:t}=Object(h.useTracking)();return l.a.createElement("div",{className:"photos-panel-buttons"},l.a.createElement(b.a,{className:"photos-panel-button",onClick:()=>{u.b.checkUserAuth()&&(t({event:m.a.event.CLICK,category:m.a.category.Photos,section:"Upload",subsection:null,identifier:null}),Object(_.d)())}},l.a.createElement(O.a,{className:"photos-panel-buttons-icon"}),l.a.createElement("span",null,e("upload_35515"))),l.a.createElement(b.a,{className:"photos-panel-button",onClick:()=>{u.b.checkUserAuth()&&(t({event:m.a.event.CLICK,category:m.a.category.Photos,section:"My Images",subsection:null,identifier:null}),E.a.contentPanel.setActiveContentPanel("myFiles"))}},l.a.createElement(k,{className:"photos-panel-buttons-icon"}),l.a.createElement("span",null,e("my_images_35734"))))};const A=[{id:"all",name:"photo_36805",hintText:"photo_36805"},{id:"gif",name:"GIF"},{id:"cutouts",name:"cutout_36806",hintText:"cutout_36806"}];v.j&&A.splice(2,0,{id:"mockups",name:"mockup_36807",hintText:"mockup_36807"});var j=Object(p.a)((()=>{const{activeTab:e,setActiveTab:t}=g.a,{trackEvent:n}=Object(h.useTracking)();return l.a.createElement("div",{className:"photos-panel-actions"},l.a.createElement(R,null),l.a.createElement(y.a,{tabsClass:"photos-panel-actions__tabs",tabClass:"photos-panel-actions__tab",tabs:A,activeTab:e,changeActiveTab:e=>{n({event:m.a.event.CLICK,category:m.a.category.Photos,section:e,subsection:null,identifier:null}),t(e)}}))})),T=n(6),C=n.n(T),N=n(1011),x=n(94),P=n(146),D=n(222),M=n(607),L=n(2689);var I=({photo:e})=>{const{t:t}=Object(f.a)();return e.isCutout?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"file-preview__name",title:e.description||""},e.prettyDescription),l.a.createElement("a",{className:"file-preview__owner",href:e.ownerProfile,target:"_blank",rel:"noreferrer"},t("by_36089")," ",e.ownerName))};var H=({photoRef:e,photo:t,style:n})=>l.a.createElement(L.a,{photoRef:e.current,src:t.thumbUrl,alt:t.altDescription||"",AdditionalElements:()=>l.a.createElement(I,{photo:t}),style:n}),B=n(24),U=n(79),F=n(65),G=n(501),z=n(913),W=n(1372),$=n(2667),q=n(1608),K=n(572),V=n(3603),X=n(365),Y=n(2668);var Q=Object(p.a)((({src:e,alt:t,photo:n,beautyScrollRef:a,Preview:r,className:o,addObject:i,onClick:s,onDrag:d,onDragStart:p,onDragEnd:f,showSettings:y=!1})=>{const{trackEvent:v}=Object(h.useTracking)(),{activeTab:b}=g.a,{id:_,name:O}=n,w=Object(c.useRef)(null),S=Object(c.useRef)(null),k=Object(c.useRef)(null),[R,A]=Object(z.a)(w),j=[{...n,type:"image"}],T=Object(q.b)(j,void 0),N=u.b.settings.isMobile,x=Object(Y.a)();return Object(G.a)((({createDraggable:e})=>{if(N)return;let t,n;const a=k.current,[r]=e(a,{onClick(e){u.b.checkUserAuth()&&S.current&&(v({event:m.a.event.CLICK,category:m.a.category.Photos,section:b,subsection:null,identifier:O||_}),s(e),a&&B.gsap.to(a,{duration:0,x:0,y:0,top:"0px",left:"0px",clearProps:"width,height,z-index",onComplete:()=>setTimeout((()=>a.classList.remove("photos-photo__img--dragging")),100)}))},onDragStart(){u.b.checkUserAuth()&&a&&S.current&&(null==p||p(),E.a.setCommentsModalOpen(!1),x.onDragStart(),t=a.cloneNode(!0),S.current.appendChild(t),a.style.width=`${a.offsetWidth}px`,a.style.height=`${a.offsetHeight}px`,t.style.zIndex=1,a.style.zIndex="2",n=S.current.getBoundingClientRect(),a.style.position="fixed",a.style.top=`${n.top}px`,a.style.left=`${n.left}px`,a.classList.add("photos-photo__img--dragging"))},onDrag(e){null==d||d(e),x.onDrag(this)},onDragEnd(e){if(!a)return;v({event:m.a.event.DRAG,category:m.a.category.Photos,section:b,subsection:null,identifier:O||_});let{isHitObjectMatcher:n,isHitBackgroundMatcher:r}=x.onDragEnd(this);u.b.settings.isPhotoAsBackgroundAllowed||(r=!1,n=!0),null==f||f(),i({hitBackgroundMatcher:r,hitObjectMatcher:n},e),M.a.isDragActive&&M.a.setDragActive(!1),M.a.setImageReplaceTarget(null),t.remove(),a.style.position="initial",B.gsap.to(a,{duration:0,x:0,y:0,top:"0px",left:"0px",clearProps:"width,height,z-index",onComplete:()=>setTimeout((()=>a.classList.remove("photos-photo__img--dragging")),100)})}},u.b);T&&r.disable()}),[]),l.a.createElement("div",{className:C()("photos-photo",o),ref:w},l.a.createElement("div",{className:"photos-photo__image-wrapper",ref:S,onClick:()=>Object(q.c)(j,T)},l.a.createElement("img",{className:"photos-photo__img",src:e,alt:t,ref:k,onClick:e=>{if(u.b.settings.isMobile){if(T)return;s(e)}F.a.hideSubmenu(X.a.BACKGROUND)},draggable:!1}),l.a.createElement(K.a,{isPremium:T,position:"top-center"})),y&&l.a.createElement(V.a,{photo:n,beautyScrollRef:a,isPremium:T,isParentHovered:R,setHoverState:A}),l.a.createElement(U.Transition,{in:R,timeout:W.a,mountOnEnter:!0,unmountOnExit:!0},(e=>l.a.createElement(r,{photo:n,photoRef:w,style:Object($.a)(e)}))))})),J=n(3636);var Z=Object(p.a)((({photo:e,beautyScrollRef:t})=>{const n=Object(J.a)();return l.a.createElement(Q,{src:e.thumbUrl,alt:e.altDescription,beautyScrollRef:t,Preview:H,photo:e,onClick:()=>{"background"!==u.b.selectedObject.type||e.isCutout?e.addToCanvas():e.useAsBackground()},addObject:({hitBackgroundMatcher:t,hitObjectMatcher:a})=>{E.a.framesState.isFrameDragAndDropActive?e.addToCanvas():(t&&e.useAsBackground(),a&&e.addToCanvas()),n.onAddObject()},onDragStart:()=>{n.onDragStart(),D.e.includes(u.b.selectedObject.type)||e.isCutout||M.a.setDragActive(!0)},onDrag:e=>{n.onDrag(e)},onDragEnd:()=>{n.onDragEnd()},showSettings:!0})})),ee=n(2666),te=n(78);var ne=({photo:e})=>{const{t:t}=Object(f.a)();return l.a.createElement("div",{className:"file-preview__name",title:e.name},t(e.tooltip))};var ae=({photoRef:e,photo:t,style:n})=>{const a=`${te.a}mockups/${t.folder}/${t.name}.png`;return l.a.createElement(L.a,{photoRef:e.current,src:a,alt:t.name,AdditionalElements:()=>l.a.createElement(ne,{photo:t}),style:n})},re=n(3896),oe=n.n(re);const ie=e=>{if(null===e.current)return{};const t=e.current.offsetWidth/2-8-16;return{width:t,height:t}};var se=Object(p.a)((({photo:e,beautyScrollRef:t})=>{const n=`${te.a}mockups/${e.folder}/${e.name}.png`;return l.a.createElement("div",{className:oe.a.root,style:ie(t)},l.a.createElement(Q,{src:n,alt:e.name,className:oe.a.device,beautyScrollRef:t,Preview:ae,photo:e,onClick:t=>e.addToCanvas(t,!0),addObject:(t,n)=>e.addToCanvas(n)}))})),ce=n(2388),le=n(2317),ue=n.n(le),de=n(1418),pe=n(3897),fe=n.n(pe),me=n(22);const ge={all:"all mockups"};var he=Object(p.a)((()=>{const{t:e}=Object(me.c)(),t=g.a.mockupsStore.categories.map((({name:t})=>ue()(e(ge[t]||t)))),n=g.a.mockupsStore.selectedCategory.name,a=ue()(e(ge[n]||n));return l.a.createElement(de.a,{value:a,onChange:(e,t)=>{const n=g.a.mockupsStore.categories[t];n.id!==g.a.mockupsStore.selectedCategory.id&&g.a.mockupsStore.setSelectedCategory(n)},list:t,containerClassName:fe.a.root,listClassName:fe.a.list})}));var ye=Object(p.a)((()=>{const{allResultsData:e,cutouts:t,mockups:n,mockupsCategorized:a,mockupsStore:r,activeTab:o,fetchResults:i,properTabMaxPages:s,properTabCurrentPage:u,isFetching:d,isResult:p}=g.a,f=[],m=[];let h=0,y=0;const v="all"===o,b="cutouts"===o,_="mockups"===o,[E,O]=Object(c.useState)([]),w=Object(c.useRef)(null),S=Object(c.useRef)(null),k=Object(c.useRef)(null),R=()=>{v&&O(e),b&&O(t.data),_&&"0"===r.selectedCategory.id&&O(n.data),_&&"0"!==r.selectedCategory.id&&O(a.data)};return Object(P.a)((()=>r.selectedCategory.id),(e=>{"0"!==e&&(O([]),i().then())})),Object(c.useEffect)((()=>{e.length||i().then()}),[]),Object(c.useEffect)((()=>{d||R()}),[d]),Object(c.useEffect)((()=>{w.current&&(w.current.scrollTop=0),R()}),[o,r.selectedCategory]),E.forEach(((e,t)=>{let n;n=ce.a.is(e)?l.a.createElement(se,{photo:e,key:e.id+t,beautyScrollRef:w}):l.a.createElement(Z,{photo:e,key:e.id+t,beautyScrollRef:w});const a=((e,t)=>{if(!t.current)return console.error("@photosSection::getImageHeight firstColumnRef.current is not presented"),200;if(ce.a.is(e))return t.current.offsetWidth;const n=e.imageHeight*t.current.offsetWidth/e.imageWidth;return Math.round(n<200?n:200)})(e,S);h<=y?(h+=a,f.push(n)):(y+=a,m.push(n))})),l.a.createElement(l.a.Fragment,null,_&&l.a.createElement(he,null),l.a.createElement(N.a,{loadMore:i,page:u,pagesCount:s,contClass:C()("photos-panel",{"photos-panel--cutouts-tab":b,"photos-panel--mockups-tab":_}),beautyScrollRef:w},!d&&!p&&l.a.createElement(ee.a,null),l.a.createElement("div",{className:"photos-panel__container"},l.a.createElement("div",{className:"photos-panel__column",ref:S},f),l.a.createElement("div",{className:"photos-panel__column",ref:k},m))),(({isAll:e,isCutouts:t,isMockups:n,isFetching:a,cutouts:r,mockups:o})=>{let i=!1;return e&&(i=!0),n&&!o.shouldNotFetch&&(i=!0),t&&!r.shouldNotFetch&&(i=!0),i&&a})({isAll:v,isCutouts:b,isMockups:_,isFetching:d,cutouts:t,mockups:n})&&l.a.createElement(x.a,{theme:"dark",className:"photos-panel__spinner"}))})),ve=n(2675),be=n(3658),_e=n(3612);var Ee=Object(p.a)((()=>{const{t:e}=Object(f.a)(),t="gif"===g.a.activeTab,n=t?_e.a:g.a,{searchString:a,setSearchString:r}=n,o=t?"search_gif_36808":"search_millions_of_photos_36809";return l.a.createElement(l.a.Fragment,null,l.a.createElement(ve.a,{setSearchString:r,searchString:a,placeholder:e(o),category:m.a.category.Photos,typingTimer:1500}),l.a.createElement(j,null),t?l.a.createElement("div",{className:"photos-panel photos-panel--gif-tab"},l.a.createElement(be.a,{searchable:!1,isBackable:!1})):l.a.createElement(ye,null))})),Oe=n(1),we=n(16),Se=n.n(we);var ke=n(114),Re=n(2);const{slideStore:Ae}=u.b,{filesStore:je}=ke.b;var Te=Oe.types.model("SmugmugModel",{key:Oe.types.string,smugmugType:Oe.types.string,name:Oe.types.string,width:Oe.types.maybe(Oe.types.number),height:Oe.types.maybe(Oe.types.number),thumbnail:Oe.types.maybe(Oe.types.string),type:"smugmug"}).views((e=>({get objectOptions(){const t=Ae.width/2;return{type:"image",previewUrl:e.thumbnail,...Object(Re.getMaximumAvailableSize)(e.width,e.height,t)}},get prettyDescription(){const t=e.description||e.altDescription;return t&&t.length>36?t.slice(0,36)+"...":t},get libraryData(){return{provider:"smugmug",downloadUrl:e.key,imageWidth:e.width,name:e.title}},isPhoto:()=>!0}))).actions((e=>({addToCanvas:Object(Oe.flow)((function*(){try{yield Object(_.d)({objectData:e.objectOptions,libraryData:e.libraryData})}catch(e){u.b.showMessage({text:me.a.t("can_t_add_image_to_canvas_37275"),level:"error",error:e})}})),useAsBackground:Object(Oe.flow)((function*(){const t=Ae.selectedSlide||Ae.first;t.background.setBackgroundImage({width:e.width,height:e.height,previewUrl:e.thumbnail,loaded:!1,type:"background"});const n=yield e.saveToLibrary();t.background.updateSrc({src:n.filename,ext:n.ext})})),saveToLibrary(){const{provider:t,downloadUrl:n,imageWidth:a,name:r}=e.libraryData;return je.saveImageToLibrary(t,n,a,r)}}))),Ce=n(3);const Ne=u.b.settings.projectId,xe=Oe.types.model("BackButtonHistoryModel",{smugmugType:Oe.types.string,key:Oe.types.string,name:Oe.types.string}),Pe=Oe.types.model("SmugmugStore",{items:Oe.types.optional(Oe.types.array(Te),[]),backButtonHistory:Oe.types.optional(Oe.types.array(xe),[{smugmugType:"",key:"",name:""}]),isFetching:!1}).views((e=>({get isRoot(){return 1===e.backButtonHistory.length},get prevPage(){return e.backButtonHistory[e.backButtonHistory.length-2]},get lastPage(){return e.backButtonHistory[e.backButtonHistory.length-1]},get path(){const{smugmugType:t,key:n}=e.lastPage;if("folder"===t){const t=[];for(const n of e.backButtonHistory)"folder"===n.smugmugType&&t.push(n.key);return t.join(Ce.y)}return n}}))).actions((e=>({getSmugmugItems:Object(Oe.flow)((function*(){e.isFetching=!0;try{const{smugmugType:t}=e.lastPage;e.items=yield async function(e,t,n){let a=`/ajax/getsmugmugitems/${e}`;""!==n&&""!==t&&(a=`/ajax/getsmugmugitems/${e}/${t}/${n}`);const{data:{items:r}}=await Se.a.get(a);return r}(Ne,t,e.path)}catch(e){u.b.showMessage({text:"Error fetching results searchStore.",level:"error",error:e})}finally{e.isFetching=!1}})),backToLastPage(){e.backButtonHistory.pop();const{smugmugType:t,key:n}=e.lastPage;e.getSmugmugItems(t,n)},goToNextPage({smugmugType:t,key:n,name:a}){e.backButtonHistory.push({smugmugType:t,key:n,name:a}),e.getSmugmugItems(t,n)}}))).create();var De=n(132),Me=n(596),Le=n.n(Me);var Ie=({title:e="Free Photos"})=>l.a.createElement("div",{className:"photos-panel-header"},l.a.createElement("span",{className:"photos-panel-header__text"},e),l.a.createElement("div",{className:"photos-panel-header__line"})),He=n(3588),Be=n(9);const Ue=({item:e,imageRef:t})=>{const{thumbnail:n,name:a,smugmugType:r}=e;switch(r){case"folder":return l.a.createElement(l.a.Fragment,null,l.a.createElement("svg",{className:"smugmugs-panel__item-icon",height:"50px",version:"1.1",viewBox:"0 0 50 50",width:"50px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},l.a.createElement("rect",{fill:"none",height:"50",width:"50"}),l.a.createElement("path",{d:"M47,8c0,0-27.648,0-29,0  c-1.469,0-2.484-4-4-4H3C1.896,4,1,4.896,1,6v4v30v4c0,1.104,0.896,2,2,2h44c1.104,0,2-0.896,2-2V10C49,8.896,48.104,8,47,8z",fill:"none",stroke:Be.a.white,strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),l.a.createElement("path",{d:"M1,27V16  c0-1.104,0.896-2,2-2h44c1.104,0,2,0.896,2,2v11",fill:"none",stroke:Be.a.white,strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"})),l.a.createElement("span",{className:"smugmugs-panel__item-name"},a));case"album":return l.a.createElement(l.a.Fragment,null,l.a.createElement("svg",{className:"smugmugs-panel__item-icon",height:"48px",version:"1.1",viewBox:"0 0 24 24",width:"48px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},l.a.createElement("g",null,l.a.createElement("path",{fill:Be.a.white,d:"M23,4h-1V3c0-0.6-0.4-1-1-1h-1V1c0-0.6-0.4-1-1-1H1C0.4,0,0,0.4,0,1v18c0,0.6,0.4,1,1,1h1v1c0,0.6,0.4,1,1,1h1v1   c0,0.6,0.4,1,1,1h18c0.6,0,1-0.4,1-1V5C24,4.4,23.6,4,23,4z M2,3v16H1V1h18v1H3C2.4,2,2,2.4,2,3z M4,5v16H3V3h18v1H5   C4.4,4,4,4.4,4,5z M22,22H11.5l6.5-6.5l4,4V22z M22,18l-4-4l-8,8H6V6h16V18z"}),l.a.createElement("path",{fill:Be.a.white,d:"M12,15c1.7,0,3-1.3,3-3s-1.3-3-3-3s-3,1.3-3,3S10.3,15,12,15z M12,10c1.1,0,2,0.9,2,2s-0.9,2-2,2s-2-0.9-2-2S10.9,10,12,10   z"}))),l.a.createElement("span",{className:"smugmugs-panel__item-name"},a));case"image":return l.a.createElement("img",{className:"smugmugs-panel__item-thumbnail",src:n,ref:t,onClick:()=>F.a.hideSubmenu(X.a.BACKGROUND)})}};var Fe=Object(p.a)((({item:e,onClick:t})=>{const{activeTab:n}=g.a,{name:a,id:r,smugmugType:o}=e,i="image"===o,{trackEvent:s}=Object(h.useTracking)(),d=Object(c.useRef)(null),p=Object(c.useRef)(null),f=Object(Y.a)();return Object(G.a)((({createDraggable:t})=>{if(!d)return;let o,i;const c=d.current;t(c,{onClick(){s({event:m.a.event.CLICK,category:m.a.category.Photos,section:n,subsection:null,identifier:a||r}),"background"===u.b.selectedObject.type?e.useAsBackground():e.addToCanvas()},onDragStart(){M.a.setDragActive(!0),E.a.setCommentsModalOpen(!1),f.onDragStart(),o=c.cloneNode(!0),p.current.appendChild(o),c.style.width=`${c.offsetWidth}px`,c.style.height=`${c.offsetHeight}px`,o.style.zIndex=1,c.style.zIndex=2,i=p.current.getBoundingClientRect(),c.style.position="fixed",c.style.top=`${i.top}px`,c.style.left=`${i.left}px`,c.classList.add("smugmugs-panel__item-thumbnail--dragging")},onDrag(){f.onDrag(this)},onDragEnd(){s({event:m.a.event.DRAG,category:m.a.category.Photos,section:n,subsection:null,identifier:a||r});const{isHitObjectMatcher:t,isHitBackgroundMatcher:i}=f.onDragEnd(this);t?e.addToCanvas():i&&e.useAsBackground(),o.remove(),c.style.position="initial",B.gsap.to(c,{duration:0,x:0,y:0,top:"0px",left:"0px",onComplete:()=>setTimeout((()=>c.classList.remove("smugmugs-panel__item-thumbnail--dragging")),100)})}},u.b)}),[d]),l.a.createElement("div",{className:`smugmugs-panel__item smugmugs-panel__item-${o}`,onClick:i?void 0:t},l.a.createElement("div",{className:"smugmugs-panel__item-wrapper",ref:p},l.a.createElement(Ue,{item:e,imageRef:d})))}));const Ge={paddingRight:2};var ze=Object(p.a)((()=>{const{t:e}=Object(f.a)(),{items:t,getSmugmugItems:n,isFetching:a,isRoot:r,lastPage:o,goToNextPage:i,backToLastPage:s}=Pe,u=Object(c.useRef)(null);Object(c.useEffect)((()=>{Le()(t)&&n()}),[]),Object(c.useEffect)((()=>{a||(u.current.scrollTop=0)}),[a]);const d=!a&&!Le()(t);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"photos-panel-actions"},l.a.createElement(R,{trackYStyle:Ge})),l.a.createElement(Ie,{title:e("smugmug_photos_36892")}),!r&&l.a.createElement(He.a,{name:o.name,onClick:s}),l.a.createElement(De.a,{ref:u,className:C()("smugmugs-panel",{"smugmugs-panel--root":r})},l.a.createElement("div",{className:"smugmugs-panel__container clearfix"},d&&t.map((e=>l.a.createElement(Fe,{item:e,key:e.key,onClick:()=>i(e)}))))),a&&l.a.createElement(x.a,{theme:"dark",className:"photos-panel__spinner"}))})),We=n(1945);t.default=()=>{const e=Object(c.useRef)(null),t="Smugmug"===u.b.settings.customImageLibrary;return l.a.createElement(d.a,{ref:e,panelName:"Photos",panelTitle:We.i.name},t?l.a.createElement(ze,null):l.a.createElement(Ee,null))}}}]);